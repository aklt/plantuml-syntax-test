<pre id='vimCodeElement'>
<span class="PreProc">@startuml</span>
<span class="PreProc">!include </span><span class="Constant">&lt;azure/AzureCommon&gt;</span>
<span class="PreProc">!include </span><span class="Constant">&lt;azure/Analytics/AzureEventHub&gt;</span>
<span class="PreProc">!include </span><span class="Constant">&lt;azure/Analytics/AzureStreamAnalytics&gt;</span>
<span class="PreProc">!include </span><span class="Constant">&lt;azure/Databases/AzureCosmosDb&gt;</span>

<span class="Statement">left</span> <span class="Statement">to</span> <span class="Statement">right</span> direction

<span class="Type">agent</span> <span class="Constant">&quot;Device Simulator&quot;</span> <span class="Statement">as</span> devices #fff

AzureEventHub<span class="Type">(fareDataEventHub, &quot;Fare Data&quot;, &quot;PK: Medallion HackLicense VendorId; 3 TUs&quot;)</span>
AzureEventHub<span class="Type">(tripDataEventHub, &quot;Trip Data&quot;, &quot;PK: Medallion HackLicense VendorId; 3 TUs&quot;)</span>
AzureStreamAnalytics<span class="Type">(streamAnalytics, &quot;Stream Processing&quot;, &quot;6 SUs&quot;)</span>
AzureCosmosDb<span class="Type">(outputCosmosDb, &quot;Output Database&quot;, &quot;1,000 RUs&quot;)</span>

devices <span class="Identifier">--&gt;</span> fareDataEventHub
devices <span class="Identifier">--&gt;</span> tripDataEventHub
fareDataEventHub <span class="Identifier">--&gt;</span> streamAnalytics
tripDataEventHub <span class="Identifier">--&gt;</span> streamAnalytics
streamAnalytics <span class="Identifier">--&gt;</span> outputCosmosDb
<span class="PreProc">@enduml</span>

</pre>
