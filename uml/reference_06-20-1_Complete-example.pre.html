<pre id='vimCodeElement'>
<span class="PreProc">@startuml</span>
<span class="Statement">start</span>
<span class="Constant">:ClickServlet.handleRequest();</span>
<span class="Constant">:new page;</span>
<span class="Statement">if</span> <span class="Type">(Page.onSecurityCheck)</span> <span class="Statement">then</span> <span class="Type">(true)</span>
  :Page<span class="Identifier">.o</span>nInit<span class="Type">()</span>;
  <span class="Statement">if</span> <span class="Type">(isForward?)</span> <span class="Statement">then</span> <span class="Type">(no)</span>
    :Process controls;
    <span class="Statement">if</span> <span class="Type">(continue processing?)</span> <span class="Statement">then</span> <span class="Type">(no)</span>
      <span class="Statement">stop</span>
    <span class="Statement">endif</span>

    <span class="Statement">if</span> <span class="Type">(isPost?)</span> <span class="Statement">then</span> <span class="Type">(yes)</span>
      :Page<span class="Identifier">.o</span>nPost<span class="Type">()</span>;
    <span class="Statement">else</span> <span class="Type">(no)</span>
      :Page<span class="Identifier">.o</span>nGet<span class="Type">()</span>;
    <span class="Statement">endif</span>
    :Page<span class="Identifier">.o</span>nRender<span class="Type">()</span>;
  <span class="Statement">endif</span>
<span class="Statement">else</span> <span class="Type">(false)</span>
<span class="Statement">endif</span>

<span class="Statement">if</span> <span class="Type">(do redirect?)</span> <span class="Statement">then</span> <span class="Type">(yes)</span>
  :redirect process;
<span class="Statement">else</span>
  <span class="Statement">if</span> <span class="Type">(do forward?)</span> <span class="Statement">then</span> <span class="Type">(yes)</span>
    :Forward request;
  <span class="Statement">else</span> <span class="Type">(no)</span>
    :Render <span class="Statement">page</span> template;
  <span class="Statement">endif</span>
<span class="Statement">endif</span>

<span class="Statement">stop</span>
<span class="PreProc">@enduml</span>
</pre>
